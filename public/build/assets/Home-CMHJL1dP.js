import{_ as C}from"./MainLayout-Cz5ClpIl.js";import{z as V,r as j,C as l,D as r,I as e,E as a,O as b,K as u,H as n,u as d,V as h,F as f,M as g,L as v,B as H,U as w,G as S}from"./vendor-core-CO7h4P2b.js";import{_ as M}from"./PostSortTabs-CFcId6O6.js";import{P as B}from"./PostInteractions-BBSJqnX-.js";import{Y as D,h as y,G as L,V as z,S as A}from"./ui-DSYp2kT5.js";import"./Navbar-C9okvRBf.js";import"./ApplicationLogo-DfgTY2Xe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-DxgFcSvi.js";const P={class:"overflow-hidden rounded-2xl border shadow-sm backdrop-blur-sm transition-all duration-200 bg-white/90 border-gray-100/50 hover:border-blue-200/50 hover:shadow-md group"},N={class:"p-3 sm:p-4 md:p-6"},F={class:"flex items-start mb-3 sm:mb-4 space-x-2 sm:space-x-3 md:items-center md:space-x-4"},G={class:"flex-shrink-0 flex justify-center items-center w-8 h-8 sm:w-10 sm:h-10 text-sm sm:text-lg font-semibold text-white bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full"},T={class:"flex-grow"},U={class:"flex flex-wrap gap-1 sm:gap-2 items-center text-xs sm:text-sm text-gray-600"},E={class:"font-medium text-gray-900"},O={class:"mt-0.5 text-xs text-gray-500 hidden sm:block"},Y={key:0,class:"flex items-center space-x-2"},q={class:"space-y-4"},I={class:"text-base sm:text-lg font-semibold text-gray-900 transition-colors md:text-xl group-hover:text-blue-600 leading-tight"},K=["innerHTML"],J={key:0,class:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-3 sm:mt-4"},Q=["src"],R={class:"pt-3 sm:pt-4 mt-4 sm:mt-6 border-t border-gray-100"},W={class:"fixed inset-0 overflow-y-auto"},X={class:"flex min-h-full items-center justify-center p-4 text-center"},Z={class:"mt-4 flex justify-end space-x-3"},ee={__name:"PostCard",props:{post:{type:Object,required:!0}},setup(s){const m=s,i=V({vote_type:null}),o=j(!1),_=(c,t)=>{i.vote_type=t,i.post(route("posts.vote",c),{preserveScroll:!0})},k=c=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(c).toLocaleDateString("en-US",t)},$=()=>{H.delete(route("posts.destroy",m.post.id),{onSuccess:()=>{o.value=!1}})};return(c,t)=>{var x;return r(),l("div",P,[e("div",N,[e("div",F,[e("div",G,u(s.post.user.name.charAt(0).toUpperCase()),1),e("div",T,[e("div",U,[e("span",E,u(s.post.user.name),1),t[3]||(t[3]=e("span",{class:"text-gray-400"},"•",-1)),e("span",null,u(k(s.post.created_at)),1)]),e("div",O,u(s.post.community?s.post.community.name:"General"),1)]),c.$page.props.auth.user&&s.post.user.id===c.$page.props.auth.user.id?(r(),l("div",Y,[a(d(h),{href:c.route("posts.edit",s.post.id),class:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Edit post"},{default:n(()=>[...t[4]||(t[4]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=p=>o.value=!0),class:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete post"},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])])])):b("",!0)]),e("div",q,[e("h2",I,u(s.post.title),1),e("div",{class:"text-sm text-gray-600 sm:text-base line-clamp-3 sm:line-clamp-none",innerHTML:s.post.content},null,8,K),(x=s.post.images)!=null&&x.length?(r(),l("div",J,[(r(!0),l(f,null,g(s.post.images,p=>(r(),l("div",{key:p.id,class:"overflow-hidden relative bg-gray-100 rounded-lg aspect-video"},[e("img",{src:p.url,alt:"",class:"object-cover absolute inset-0 w-full h-full"},null,8,Q)]))),128))])):b("",!0)]),e("div",R,[a(B,{post:s.post,onVote:_},null,8,["post"])])]),a(d(A),{appear:"",show:o.value,as:"template"},{default:n(()=>[a(d(D),{as:"div",onClose:t[2]||(t[2]=p=>o.value=!1),class:"relative z-50"},{default:n(()=>[a(d(y),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[...t[6]||(t[6]=[e("div",{class:"fixed inset-0 bg-black/25"},null,-1)])]),_:1}),e("div",W,[e("div",X,[a(d(y),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[a(d(L),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:n(()=>[a(d(z),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[...t[7]||(t[7]=[v(" Delete Post ",-1)])]),_:1}),t[9]||(t[9]=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Are you sure you want to delete this post? This action cannot be undone. ")],-1)),e("div",Z,[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[1]||(t[1]=p=>o.value=!1)}," Cancel "),e("button",{type:"button",class:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-red-500 shadow-sm hover:shadow transition-all duration-200",onClick:$},[...t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1.5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),v(" Delete ",-1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}},te={class:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden"},se={class:"divide-y divide-gray-100"},oe={class:"flex-shrink-0"},re={class:"w-10 h-10 rounded-full overflow-hidden"},ae=["src","alt"],le={key:1,class:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center"},ie={class:"text-white font-bold text-lg"},ne={class:"ml-4 flex-grow"},de={class:"text-sm font-medium text-gray-900 group-hover:text-blue-600"},ue={class:"text-sm text-gray-500"},ce={class:"truncate"},me={class:"text-xs text-gray-400"},pe={class:"px-6 py-4 bg-gray-50 border-t border-gray-200"},fe={__name:"CommunitiesSidebar",props:{communities:{type:Array,required:!0}},setup(s){return(m,i)=>(r(),l("div",te,[i[1]||(i[1]=e("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[e("h2",{class:"text-lg font-semibold text-gray-900"},"Popular Displays")],-1)),e("div",se,[(r(!0),l(f,null,g(s.communities,o=>(r(),w(d(h),{key:o.id,href:m.route("subfapps.show",o.id),class:"flex items-center px-6 py-4 hover:bg-gray-50 transition-colors duration-200 group"},{default:n(()=>[e("div",oe,[e("div",re,[o.avtaar?(r(),l("img",{key:0,src:`/storage/${o.avtaar}`,alt:o.display_name,class:"w-full h-full object-cover"},null,8,ae)):(r(),l("div",le,[e("span",ie,u(o.display_name[0].toUpperCase()),1)]))])]),e("div",ne,[e("h3",de," f/"+u(o.name),1),e("div",ue,[e("p",ce,u(o.member_count||0)+" members",1),e("p",me,u(o.posts_count||0)+" posts",1)])])]),_:2},1032,["href"]))),128))]),e("div",pe,[a(d(h),{href:m.route("subfapps.index"),class:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200"},{default:n(()=>[...i[0]||(i[0]=[v(" View All Communities → ",-1)])]),_:1},8,["href"])])]))}},he={class:"py-4 sm:py-6 md:py-8 mx-auto space-y-4 sm:space-y-6 px-2 sm:px-4 md:px-6 lg:px-8"},ve={class:"flex flex-col lg:flex-row gap-3 sm:gap-6"},ge={class:"flex-grow space-y-4"},xe={key:0,class:"space-y-3 sm:space-y-4"},be={key:1,class:"text-center py-12"},ye={class:"lg:w-80 xl:w-96 space-y-4"},Me={__name:"Home",props:{posts:Object,currentSort:String,timeframe:String,communities:Array},setup(s){return(m,i)=>(r(),l(f,null,[a(d(S),{title:"Home - Fappify"}),a(C,null,{default:n(()=>[e("div",he,[e("div",ve,[e("div",ge,[a(M,{"current-sort":s.currentSort,timeframe:s.timeframe},null,8,["current-sort","timeframe"]),s.posts.data.length>0?(r(),l("div",xe,[(r(!0),l(f,null,g(s.posts.data,o=>(r(),w(ee,{key:o.id,post:o},null,8,["post"]))),128))])):(r(),l("div",be,[...i[0]||(i[0]=[e("div",{class:"p-8 bg-white/90 rounded-2xl border border-gray-100/50 shadow-lg backdrop-blur-sm"},[e("svg",{class:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})]),e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"No Posts Yet"),e("p",{class:"text-gray-600"},"Be the first one to share something interesting!")],-1)])]))]),e("div",ye,[a(fe,{communities:s.communities},null,8,["communities"])])])])]),_:1})],64))}};export{Me as default};
