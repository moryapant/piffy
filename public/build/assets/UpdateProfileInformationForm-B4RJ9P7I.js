import{A as V,r as B,b as g,z as w,C as i,D as u,I as e,O as m,E as a,u as s,J as j,H as d,L as c,V as C,N as P,_ as M,R as S,B as N}from"./vendor-core-CO7h4P2b.js";import{a as x,_ as h,b as y}from"./InputLabel-DFzC4Sbr.js";import{P as A}from"./PrimaryButton-C1ye-9aP.js";import"./utils-DxgFcSvi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"mb-6"},H={class:"flex flex-col items-center gap-4 sm:flex-row sm:items-start"},L={class:"relative group"},$=["src","alt"],z={class:"grid gap-6 sm:grid-cols-2"},I={key:0,class:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg"},U={class:"flex items-start"},q={class:"ml-3"},F={class:"mt-2"},D={class:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md"},G={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},J={key:0,class:"w-4 h-4 mr-2 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={key:0,class:"flex items-center text-sm text-green-600"},Q={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(f){const k=V(),p=B(null),r=g(()=>k.props.auth.user),b=g(()=>r.value.avatar?r.value.avatar.startsWith("http")?r.value.avatar:`/storage/${r.value.avatar}`:"https://www.gravatar.com/avatar/?d=mp"),o=w({name:r.value.name,email:r.value.email}),v=w({avatar:null}),_=l=>{l.target.files.length>0&&(v.avatar=l.target.files[0],v.post(route("profile.avatar.update"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{l.target.value=null,N.reload({only:["auth.user"]})}}))};return(l,t)=>(u(),i("section",null,[e("div",E,[e("div",H,[e("div",L,[e("img",{src:b.value,alt:r.value.name,class:"object-cover border-4 border-white rounded-full shadow-lg w-20 h-20 sm:w-24 sm:h-24 aspect-square",style:{"object-position":"center"}},null,8,$),e("button",{type:"button",onClick:t[0]||(t[0]=()=>p.value.click()),class:"absolute inset-0 flex items-center justify-center transition-opacity duration-200 rounded-full opacity-0 bg-black/50 group-hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5 text-white sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])])]),t[5]||(t[5]=e("div",{class:"text-center sm:text-left"},[e("h3",{class:"text-sm font-medium text-gray-900 sm:text-base"},"Profile Picture"),e("p",{class:"text-xs text-gray-500 sm:text-sm"}," Click the image to change your avatar "),e("p",{class:"mt-1 text-xs text-gray-400"}," JPG, PNG, WEBP up to 2MB ")],-1))]),e("input",{ref_key:"avatarInput",ref:p,type:"file",accept:".jpg,.jpeg,.png,.webp",class:"hidden",onChange:_},null,544)]),e("form",{onSubmit:t[3]||(t[3]=S(n=>s(o).patch(l.route("profile.update")),["prevent"])),class:"space-y-6"},[e("div",z,[e("div",null,[a(x,{for:"name",value:"Name"}),a(h,{id:"name",type:"text",class:"block w-full mt-1",modelValue:s(o).name,"onUpdate:modelValue":t[1]||(t[1]=n=>s(o).name=n),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(y,{class:"mt-2",message:s(o).errors.name},null,8,["message"])]),e("div",null,[a(x,{for:"email",value:"Email"}),a(h,{id:"email",type:"email",class:"block w-full mt-1",modelValue:s(o).email,"onUpdate:modelValue":t[2]||(t[2]=n=>s(o).email=n),required:"",autocomplete:"username"},null,8,["modelValue"]),a(y,{class:"mt-2",message:s(o).errors.email},null,8,["message"])])]),f.mustVerifyEmail&&r.value.email_verified_at===null?(u(),i("div",I,[e("div",U,[t[8]||(t[8]=e("svg",{class:"flex-shrink-0 w-5 h-5 mt-0.5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e("div",q,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-yellow-800"}," Your email address is unverified. ",-1)),e("div",F,[a(s(C),{href:l.route("verification.send"),method:"post",as:"button",class:"inline-flex items-center px-3 py-2 text-xs font-semibold text-yellow-800 bg-yellow-100 border border-yellow-300 rounded-md hover:bg-yellow-200 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2"},{default:d(()=>[...t[6]||(t[6]=[c(" Re-send verification email ",-1)])]),_:1},8,["href"])])])]),j(e("div",D,[...t[9]||(t[9]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),e("p",{class:"ml-2 text-sm font-medium text-green-800"}," A new verification link has been sent to your email address. ")],-1)])],512),[[P,f.status==="verification-link-sent"]])])):m("",!0),e("div",G,[a(A,{disabled:s(o).processing,class:"w-full sm:w-auto"},{default:d(()=>[s(o).processing?(u(),i("svg",J,[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])):m("",!0),t[11]||(t[11]=c(" Save Changes ",-1))]),_:1},8,["disabled"]),a(M,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:d(()=>[s(o).recentlySuccessful?(u(),i("div",R,[...t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),c(" Profile updated successfully. ",-1)])])):m("",!0)]),_:1})])],32)]))}};export{Q as default};
